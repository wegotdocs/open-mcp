{
  "type": "object",
  "properties": {
    "ID": {
      "description": "ID is the identifier of the object.",
      "readOnly": true,
      "type": "string"
    },
    "components": {
      "description": "List of components for the application.",
      "example": {
        "refMode": "pointer"
      },
      "items": {
        "description": "Represents a particular component of the application.",
        "properties": {
          "CAInjectionEnabled": {
            "description": "EXPERIMENTAL. If egress mode is inline, the Apex will act as a transparent\nproxy. The certificates that will be served by the proxy are generated by the\nApex itself which are issued by a dynamic TLS CA. If you enable this feature,\nthe matching app component instances will get the CA certificate dynamically\ninjected into the system trust store.",
            "type": "boolean"
          },
          "description": {
            "description": "The description of the component.",
            "example": "The email agent with reading capabilities.",
            "type": "string"
          },
          "egressMode": {
            "default": "Disabled",
            "description": "The egress datapath mode to use for network traffic going out to providers for\nthis application component. By default this is set to disabled. However, this\ncan be changed to mirror traffic where the Apex is only providing visibility\nwith no possibility of any access or content policies to take effect. Or this\ncan be set to inline in which case all traffic to providers will be redirected\nto the Apex which acts as a transparent proxy in this case. In this mode access\nand content policies will take effect.",
            "enum": [
              "Disabled",
              "Mirror",
              "Inline"
            ],
            "example": "Inline"
          },
          "ingressProviderConfigs": {
            "description": "The ingress provider configurations to serve for this application. If this app\ncomponent serves multiple ingress providers, you must define an ingress provider\nconfig for every single one of them. If you need access to the same ingress\nprovider over different port configurations (for example one serving https while\nanother port serves plain http), then you must define two ingress provider\nconfigurations and reuse the same provider name within the configuration.",
            "items": {
              "description": "Represents the configuration if an apex is to act as an ingress for a provider.",
              "properties": {
                "dialTLS": {
                  "default": "Preserve",
                  "description": "This option controls the dialing behaviour of the apex to the origin server.\nShould be explicitly set to enabled if the origin expects TLS connections. And\nvice versa it should be set to disabled if the origin expects connections in\nplaintext. By default this setting is set to preserve which means that the apex\nis going to dial using whatever mode it terminated its own connection with: if\nthe apex received a TLS connection, it will dial TLS, if it received a plaintext\nconnection, then it will dial plaintext. The apex receiving behaviour can be\ncontrolled with the listenTLS option. As a last resort this setting can be set\nto auto which means that the apex is going to probe the origin server to\ndetermine if it needs to dial using TLS or not. Note that this is potentially\nsending a TLS Client Hello to a plaintext HTTP server which is not expecting\nthat. Therefore, this option is not recommended if it can be avoided. This\nsetting is ignored in mirror mode.",
                  "enum": [
                    "Preserve",
                    "Auto",
                    "Enabled",
                    "Disabled"
                  ],
                  "example": "Enabled"
                },
                "listenPort": {
                  "description": "The listening port. For appcomponent configurations this is the listening port\nthat traffic will be intercepted on or mirrored from.",
                  "example": 8443,
                  "type": "integer"
                },
                "listenTLS": {
                  "default": "Auto",
                  "description": "This option controls the receiving behaviour of connection to the apex before\nthey are going to be proxied to the origin server. To control the dialing\nbehaviour of the apex towards the origin server use the dialTLS option. Should\nbe explicitly set to enabled if the listener expects TLS connections. And vice\nversa it should be set to disabled if the listener expects connections in\nplaintext. By default this setting is set to auto which means that the listener\nwill automatically determine if incoming connections are TLS or not: TLS\nconnections will be accepted, as well as  plain TCP connections will be\naccepted, both on the configured listenPort. This setting is ignored in mirror\nmode.",
                  "enum": [
                    "Auto",
                    "Enabled",
                    "Disabled"
                  ],
                  "example": "Enabled"
                },
                "listenTLSCert": {
                  "description": "Optional PEM encoded X509v3 certificate to use for the listener for this\nprovider. This setting will be ignored if listenMode is not TLS or Auto or mode\nis not Inline. However, this setting is required if listenTLSKey is set.",
                  "example": "-----BEGIN CERTIFICATE-----\nMIIF...\n...\n-----END CERTIFICATE-----",
                  "type": "string"
                },
                "listenTLSKey": {
                  "description": "Optional PEM encoded key pair to use for the listener for this provider. This\nsetting will be ignored if listenMode is not TLS or Auto or mode is not Inline.\nHowever, this setting is required if listenTLSCert is set.",
                  "example": "-----BEGIN EC PRIVATE KEY-----\nMHcCA...\n...\n-----END EC PRIVATE KEY-----",
                  "type": "string"
                },
                "mode": {
                  "default": "Disabled",
                  "description": "The ingress datapath mode to use for network traffic arriving for this ingress\nprovider for this application component. By default this is set to disabled.\nHowever, this can be changed to mirror traffic where the Apex is only providing\nvisibility with no possibility of any access or content policies to take effect.\nOr this can be set to inline in which case all traffic to providers will be\nredirected to the Apex which acts as a transparent proxy in this case. In this\nmode access and content policies will take effect.",
                  "enum": [
                    "Disabled",
                    "Mirror",
                    "Inline"
                  ],
                  "example": "Inline"
                }
              },
              "required": [
                "listenPort"
              ],
              "type": "object"
            },
            "type": "array"
          },
          "name": {
            "description": "The component name.",
            "example": "mailerd",
            "type": "string"
          },
          "providerName": {
            "description": "If given, this is the provider name that this component represents. This\n**MUST** match the name of a provider.",
            "example": "my-app-provider",
            "type": "string"
          },
          "selector": {
            "description": "A tag expression that identify an application component based on downstream\nlabels.",
            "example": [
              [
                "component=frontend"
              ]
            ],
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "array"
          },
          "token": {
            "description": "The token for the current component. Only populated by the backend when the\ncaller's\nclaim match the parents app.subject.",
            "readOnly": true,
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "type": "object"
      },
      "type": "array"
    },
    "createTime": {
      "description": "Creation date of the object.",
      "format": "date-time",
      "readOnly": true,
      "type": "string"
    },
    "description": {
      "description": "The description of the App.",
      "example": "My Wordpress Instance",
      "type": "string"
    },
    "importHash": {
      "description": "The hash of the structure used to compare with new import version.",
      "type": "string"
    },
    "importLabel": {
      "description": "The user-defined import label that allows the system to group resources from the\nsame import operation.",
      "type": "string"
    },
    "name": {
      "description": "The name of the App.",
      "example": "wordpress",
      "type": "string"
    },
    "namespace": {
      "description": "The namespace of the object.",
      "readOnly": true,
      "type": "string"
    },
    "selector": {
      "description": "A tag expression that identify an application based on downstream labels.",
      "example": [
        [
          "k8s-namespace=wordpress",
          "zone=us-west"
        ]
      ],
      "items": {
        "items": {
          "type": "string"
        },
        "type": "array"
      },
      "type": "array"
    },
    "subject": {
      "description": "Only bearers with claims matching the subject will be allowed to access the\nappcomponent tokens.",
      "items": {
        "items": {
          "type": "string"
        },
        "type": "array"
      },
      "type": "array"
    },
    "updateTime": {
      "description": "Last update date of the object.",
      "format": "date-time",
      "readOnly": true,
      "type": "string"
    }
  },
  "required": [
    "name"
  ]
}