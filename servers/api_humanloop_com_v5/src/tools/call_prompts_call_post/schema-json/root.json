{
  "type": "object",
  "properties": {
    "version_id": {
      "description": "A specific Version ID of the Prompt to log to.",
      "type": "string",
      "title": "Version ID"
    },
    "environment": {
      "description": "Name of the Environment identifying a deployed version to log to.",
      "type": "string",
      "title": "Environment"
    },
    "path": {
      "type": "string",
      "title": "Prompt path",
      "description": "Path of the Prompt, including the name. This locates the Prompt in the Humanloop filesystem and is used as as a unique identifier. For example: `folder/name` or just `name`."
    },
    "id": {
      "type": "string",
      "title": "Prompt ID",
      "description": "ID for an existing Prompt."
    },
    "messages": {
      "items": {
        "properties": {
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "text"
                          ],
                          "title": "Type"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text",
                          "description": "The message's text content."
                        }
                      },
                      "type": "object",
                      "required": [
                        "type",
                        "text"
                      ],
                      "title": "TextChatContent"
                    },
                    {
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "image_url"
                          ],
                          "title": "Type"
                        },
                        "image_url": {
                          "type": "string"
                        }
                      },
                      "type": "object",
                      "required": [
                        "type",
                        "image_url"
                      ],
                      "title": "ImageChatContent"
                    }
                  ]
                },
                "type": "array"
              }
            ],
            "title": "Content",
            "description": "The content of the message.",
            "nullable": true
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Optional name of the message author.",
            "nullable": true
          },
          "tool_call_id": {
            "type": "string",
            "title": "Tool call id",
            "description": "Tool call that this message is responding to.",
            "nullable": true
          },
          "role": {
            "type": "string"
          },
          "tool_calls": {
            "items": {
              "properties": {
                "id": {
                  "type": "string",
                  "title": "Id"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "function"
                  ],
                  "title": "ToolType",
                  "description": "The type of tool to call."
                },
                "function": {
                  "properties": {
                    "name": {
                      "type": "string",
                      "title": "Name"
                    },
                    "arguments": {
                      "type": "string",
                      "title": "Arguments"
                    }
                  },
                  "type": "object",
                  "required": [
                    "name"
                  ],
                  "title": "FunctionTool",
                  "description": "A function tool to be called by the model where user owns runtime."
                }
              },
              "type": "object",
              "required": [
                "id",
                "type",
                "function"
              ],
              "title": "ToolCall",
              "description": "A tool call to be made."
            },
            "type": "array",
            "title": "Tool calls",
            "description": "A list of tool calls requested by the assistant.",
            "nullable": true
          }
        },
        "type": "object",
        "required": [
          "role"
        ],
        "title": "ChatMessage"
      },
      "type": "array",
      "title": "Messages",
      "description": "The messages passed to the to provider chat endpoint."
    },
    "tool_choice": {
      "anyOf": [
        {
          "type": "string",
          "enum": [
            "none"
          ]
        },
        {
          "type": "string",
          "enum": [
            "auto"
          ]
        },
        {
          "type": "string",
          "enum": [
            "required"
          ]
        },
        {
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "function"
              ],
              "title": "ToolType",
              "description": "The type of tool to call."
            },
            "function": {
              "properties": {
                "name": {
                  "type": "string",
                  "title": "Name"
                }
              },
              "type": "object",
              "required": [
                "name"
              ],
              "title": "FunctionToolChoice",
              "description": "A function tool to be called by the model where user owns runtime."
            }
          },
          "type": "object",
          "required": [
            "type",
            "function"
          ],
          "title": "ToolChoice",
          "description": "Tool choice to force the model to use a tool."
        }
      ],
      "title": "Tool choice",
      "description": "Controls how the model uses tools. The following options are supported: \n- `'none'` means the model will not call any tool and instead generates a message; this is the default when no tools are provided as part of the Prompt. \n- `'auto'` means the model can decide to call one or more of the provided tools; this is the default when tools are provided as part of the Prompt. \n- `'required'` means the model must call one or more of the provided tools. \n- `{'type': 'function', 'function': {name': <TOOL_NAME>}}` forces the model to use the named function."
    },
    "prompt": {
      "type": "string"
    },
    "inputs": {
      "type": "object",
      "description": "<llm-instruction>This part of the input schema is truncated. If you want to pass the property `inputs` to the tool, first call the tool `expandSchema` with \"/properties/inputs\" in the list of pointers. This will return the expanded input schema which you can then use in the tool call. You may have to call `expandSchema` multiple times if the schema is nested.</llm-instruction>\n<property-description>The inputs passed to the prompt template.</property-description>",
      "additionalProperties": true
    },
    "source": {
      "type": "string",
      "title": "Source",
      "description": "Identifies where the model was called from."
    },
    "metadata": {
      "type": "object",
      "description": "<llm-instruction>This part of the input schema is truncated. If you want to pass the property `metadata` to the tool, first call the tool `expandSchema` with \"/properties/metadata\" in the list of pointers. This will return the expanded input schema which you can then use in the tool call. You may have to call `expandSchema` multiple times if the schema is nested.</llm-instruction>\n<property-description>Any additional metadata to record.</property-description>",
      "additionalProperties": true
    },
    "start_time": {
      "type": "string",
      "format": "date-time",
      "title": "Start time",
      "description": "When the logged event started."
    },
    "end_time": {
      "type": "string",
      "format": "date-time",
      "title": "End time",
      "description": "When the logged event ended."
    },
    "log_status": {
      "type": "string"
    },
    "source_datapoint_id": {
      "type": "string",
      "title": "Source Datapoint ID",
      "description": "Unique identifier for the Datapoint that this Log is derived from. This can be used by Humanloop to associate Logs to Evaluations. If provided, Humanloop will automatically associate this Log to Evaluations that require a Log for this Datapoint-Version pair."
    },
    "trace_parent_id": {
      "type": "string",
      "title": "Trace Parent ID",
      "description": "The ID of the parent Log to nest this Log under in a Trace."
    },
    "user": {
      "type": "string",
      "title": "End-user identifier",
      "description": "End-user ID related to the Log."
    },
    "b_environment": {
      "type": "string",
      "title": "Environment name",
      "description": "The name of the Environment the Log is associated to."
    },
    "save": {
      "type": "boolean",
      "title": "Save",
      "description": "Whether the request/response payloads will be stored on Humanloop.",
      "default": true
    },
    "log_id": {
      "type": "string",
      "title": "Log ID",
      "description": "This will identify a Log. If you don't provide a Log ID, Humanloop will generate one for you."
    },
    "provider_api_keys": {
      "type": "string"
    },
    "num_samples": {
      "type": "integer",
      "title": "Number of samples",
      "description": "The number of generations.",
      "default": 1
    },
    "stream": {
      "type": "boolean",
      "title": "Whether to stream partial results",
      "description": "If true, tokens will be sent as data-only server-sent events. If num_samples > 1, samples are streamed back independently.",
      "default": false
    },
    "return_inputs": {
      "type": "boolean",
      "title": "Return inputs",
      "description": "Whether to return the inputs in the response. If false, the response will contain an empty dictionary under inputs. This is useful for reducing the size of the response. Defaults to true.",
      "default": true
    },
    "logprobs": {
      "type": "integer",
      "title": "Log probabilities of most likely n tokens",
      "description": "Include the log probabilities of the top n tokens in the provider_response"
    },
    "suffix": {
      "type": "string",
      "title": "Completion suffix",
      "description": "The suffix that comes after a completion of inserted text. Useful for completions that act like inserts."
    }
  },
  "required": []
}